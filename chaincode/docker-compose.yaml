version: '2'

networks: 
  blood-donation:
      external: 
        name: blood-donation

services: 
  
  chaincode-nbtc.example.com:
    hostname: chaincode.nbtc.example.com
    image: hyperledger/fabric-chaincode:$IMAGE_TAG
    env_file:
      - chaincode.env
    environment:
      - CHAINCODE_CCID=blofab_1:a7b88566cdf43ed36e8b48e85ae220f2b2a527d972f21814020eb7330be971c5
      - CHAINCODE_ADDRESS=0.0.0.0:9052
    ports: 
      - '9052:9052'
    volumes:
      - ../network/organizations/peerOrganizations/nbtc.example.com/chaincode/chaincode.nbtc.example.com/tls/:/tls
    container_name: chaincode-nbtc.example.com
    networks: 
      - blood-donation
